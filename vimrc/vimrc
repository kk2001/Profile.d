" Ruoyan Wong's vimrc
"
" Use Vim defaults instead of 100% vi compatibility 
set nocompatible

"""""""""""""""""""""""""""""""""""""""
"        General Settings 
"                 
"""""""""""""""""""""""""""""""""""""""

if has("gui_macvim")
    set background=light
    set background=dark
    colorscheme solarized
    " macvim中,输入法自动切换
    set noimd
    set imi=2
    set ims=2
else
    colorscheme vibrantink
endif

    set number          " Display line number
    set incsearch       " Incremental search 
    set ignorecase      " Ignore case
    set confirm         " 
    set history=50      " Keep 50 lines of command line history
    set showcmd         " Display incomplete commands
    set autoread        " Auto read when file is changed from outside
    set showmatch       " Show matching bracets when text indicator is over them
    set novisualbell    " No sound on errors
    syntax enable       " Syntax highlight
    set cursorline      " Cursor current line
    set encoding=utf-8  " Set default-encoding to utf-8
    let mapleader=","

" <tab>设置
    set smarttab
    set expandtab
    set shiftwidth=4
    set tabstop=4

" 缩进设置 
    set autoindent                     " Auto indent
    set smartindent                    " Smart indent 
    set cindent                        " C/C++ indent style

" 禁用bakup以及swap文件 
    set nobackup
    set noswapfile
    set nowritebackup

" 启用折叠功能  
    set foldenable
    set foldmethod=manual
    nnoremap @=((foldclosed(line('.')) < 0) ? 'zc' : 'zo')

" Backspace and cursor keys wrap to previous/next line
    set backspace=indent,eol,start 
    set whichwrap+=<,>,[,]

" 缩写设置, <tab>自动替换 
    iab ryw Ruoyan Wong
    iab wry wangruoyan@snda.com
    iab ggg kid.xiyang@gmail.com

" Use ,+s to reload vim configuration.
    nmap <leader>s :so $MYVIMRC<cr>

" pathogen.vim
" https://github.com/tpope/vim-pathogen
    call pathogen#infect('stuff')
    filetype plugin on
    filetype indent on

" template_loader.vim
    let g:template_load = 1
    let g:template_tags_replacing = 1
    let g:T_AUTHOR = "Ruoyan Wong"
    let g:T_DATE_FORMAT = "%Y年%m月%d日"

" vim-colors-solarized.vim
" https://github.com/altercation/solarized/tree/master/vim-colors-solarized

" cs-explorer.vim
" http://www.vim.org/scripts/script.php?script_id=1298
    nmap <leader>cs :ColorSchemeExplorer<cr>

" indent-guides.vim
" http://www.vim.org/scripts/script.php?script_id=3361
    let g:indent_guides_auto_colors = 1
    let g:indent_guides_enable_on_vim_startup = 0
    nmap <leader>ig :IndentGuidesToggle<cr>

" nerd-tree.vim
" http://www.vim.org/scripts/script.php?script_id=1658
    nmap <leader>nt :NERDTreeToggle<cr>

" pyflakes.vim
" http://www.vim.org/scripts/script.php?script_id=2441
    let g:pyflakes_use_quickfix = 0

" pydiction.vim
" http://www.vim.org/scripts/script.php?script_id=850
    let g:pydiction_location = '~/.vim/stuff/pydiction.vim/complete-dict'

" fugitive
" http://www.vim.org/scripts/script.php?script_id=2975
    nmap <leader>gs :Gstatus<cr>
    nmap <leader>gc :Gcommit<cr>

" 设置状态栏格式
set laststatus=2
set statusline=%F%m%r%h%w\ %{fugitive#statusline()}\ [FORMAT=%{&ff}]\ [TYPE=%Y]\ [POS=%l,%v][%p%%]\ [%{strftime(\"%d/%m/%y\ -\ %H:%M\")}]
